{"version":3,"file":"giphy.js","sources":["../../../src/scripts/config/index.js","../../../src/scripts/utils/Giphy.js","../../../src/scripts/App.js","../../../src/scripts/index.js"],"sourcesContent":["export const GIPHY_API_KEY = \"LouXV5IDYNZ3ozPSjsH3aEvFeUZHB68N\";","import { GIPHY_API_KEY } from \"../config\";\r\n\r\nexport default class Giphy {\r\n  search(query) {\r\n    return fetch(`https://api.giphy.com/v1/gifs/search?api_key=${GIPHY_API_KEY}&q=${query}`)\r\n      .then(res => { return res.json() })\r\n      .then(res => {\r\n        return res;\r\n      });\r\n  }\r\n}","import Giphy from './utils/Giphy';\r\n\r\nexport default class App {\r\n  constructor(searchForm) {\r\n    this.giphy = new Giphy();\r\n    this.searchForm = searchForm;\r\n    this.searchForm.addEventListener('submit', this.onSubmit.bind(this));\r\n  }\r\n\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    document.querySelector('.gallery').innerHTML = \"\";\r\n    document.querySelector('.not-found').innerHTML = '';\r\n    this.giphy.search(e.target[0].value).then(res => {\r\n      if (res.data.length == 0) {\r\n        document.querySelector('.not-found').innerHTML = `No result found for query \"${e.target[0].value}\".`;\r\n      } else {\r\n        res.data.forEach(img => {\r\n          let vid = document.createElement('video');\r\n          vid.setAttribute('src', img.images.original_mp4.mp4);\r\n          document.querySelector('.gallery').appendChild(vid);\r\n          vid.addEventListener('mouseenter', e => {\r\n            e.target.play();\r\n            e.target.setAttribute('loop', 'true');\r\n          });\r\n          vid.addEventListener('mouseleave', e => {\r\n            e.target.removeAttribute('loop');\r\n          });\r\n        });\r\n      }\r\n    });\r\n\r\n  }\r\n}","/*\r\n * This file is part of Giphy.\r\n *\r\n * (c) Yrgo, hÃ¶gre yrkesutbildning.\r\n *\r\n * For the full copyright and license information, please view the LICENSE\r\n * file that was distributed with this source code.\r\n */\r\n\r\nimport { Search } from \"./search\";\r\nimport App from './App';\r\n\r\nlet LOADED = false;\r\n\r\n/**\r\n * Bootstrap the application on load.\r\n *\r\n * @return {void}\r\n */\r\nfunction bootstrap () {\r\n  // We don't want to load our application twice.\r\n  if (LOADED) {\r\n    return;\r\n  }\r\n\r\n  LOADED = true;\r\n\r\n  console.log('The Giphy application has been loaded.');\r\n\r\n  // When the application is loaded we remove the event listeners.\r\n  document.removeEventListener('DOMContentLoaded', bootstrap);\r\n  window.removeEventListener('load', bootstrap);\r\n\r\n  window.app = new App(document.forms[0]);\r\n\r\n  // document.querySelector(\".search__input\").addEventListener('keyup', e => {\r\n  //   console.log(Search(e.target.value));\r\n  // });\r\n};\r\n\r\n// We setup two listeners for better browser support.\r\ndocument.addEventListener('DOMContentLoaded', bootstrap);\r\nwindow.addEventListener('load', bootstrap);\r\n"],"names":["GIPHY_API_KEY","Giphy","query","fetch","then","res","json","App","searchForm","giphy","addEventListener","onSubmit","bind","e","preventDefault","querySelector","innerHTML","search","target","value","data","length","forEach","vid","document","createElement","setAttribute","img","images","original_mp4","mp4","appendChild","play","removeAttribute","LOADED","bootstrap","log","removeEventListener","app","forms","window"],"mappings":";;;AAAO,IAAMA,gBAAgB,kCAAtB;;;;;;;;;;;;;;;;;;;;;;;;;;ICEcC;;;;;;;2BACZC,OAAO;aACLC,wDAAsDH,aAAtD,WAAyEE,KAAzE,EACJE,IADI,CACC,eAAO;eAASC,IAAIC,IAAJ,EAAP;OADV,EAEJF,IAFI,CAEC,eAAO;eACJC,GAAP;OAHG,CAAP;;;;;;ICFiBE;eACPC,UAAZ,EAAwB;;;SACjBC,KAAL,GAAa,IAAIR,KAAJ,EAAb;SACKO,UAAL,GAAkBA,UAAlB;SACKA,UAAL,CAAgBE,gBAAhB,CAAiC,QAAjC,EAA2C,KAAKC,QAAL,CAAcC,IAAd,CAAmB,IAAnB,CAA3C;;;;;6BAGOC,GAAG;QACRC,cAAF;eACSC,aAAT,CAAuB,UAAvB,EAAmCC,SAAnC,GAA+C,EAA/C;eACSD,aAAT,CAAuB,YAAvB,EAAqCC,SAArC,GAAiD,EAAjD;WACKP,KAAL,CAAWQ,MAAX,CAAkBJ,EAAEK,MAAF,CAAS,CAAT,EAAYC,KAA9B,EAAqCf,IAArC,CAA0C,eAAO;YAC3CC,IAAIe,IAAJ,CAASC,MAAT,IAAmB,CAAvB,EAA0B;mBACfN,aAAT,CAAuB,YAAvB,EAAqCC,SAArC,mCAA+EH,EAAEK,MAAF,CAAS,CAAT,EAAYC,KAA3F;SADF,MAEO;cACDC,IAAJ,CAASE,OAAT,CAAiB,eAAO;gBAClBC,MAAMC,SAASC,aAAT,CAAuB,OAAvB,CAAV;gBACIC,YAAJ,CAAiB,KAAjB,EAAwBC,IAAIC,MAAJ,CAAWC,YAAX,CAAwBC,GAAhD;qBACSf,aAAT,CAAuB,UAAvB,EAAmCgB,WAAnC,CAA+CR,GAA/C;gBACIb,gBAAJ,CAAqB,YAArB,EAAmC,aAAK;gBACpCQ,MAAF,CAASc,IAAT;gBACEd,MAAF,CAASQ,YAAT,CAAsB,MAAtB,EAA8B,MAA9B;aAFF;gBAIIhB,gBAAJ,CAAqB,YAArB,EAAmC,aAAK;gBACpCQ,MAAF,CAASe,eAAT,CAAyB,MAAzB;aADF;WARF;;OAJJ;;;;;;ACbJ;;;;;;;;;AASA,AAGA,IAAIC,SAAS,KAAb;;;;;;;AAOA,SAASC,SAAT,GAAsB;;MAEhBD,MAAJ,EAAY;;;;WAIH,IAAT;;UAEQE,GAAR,CAAY,wCAAZ;;;WAGSC,mBAAT,CAA6B,kBAA7B,EAAiDF,SAAjD;SACOE,mBAAP,CAA2B,MAA3B,EAAmCF,SAAnC;;SAEOG,GAAP,GAAa,IAAI/B,GAAJ,CAAQiB,SAASe,KAAT,CAAe,CAAf,CAAR,CAAb;;;;;;;;AAQFf,SAASd,gBAAT,CAA0B,kBAA1B,EAA8CyB,SAA9C;AACAK,OAAO9B,gBAAP,CAAwB,MAAxB,EAAgCyB,SAAhC;;;;"}